{"ast":null,"code":"import _objectSpread from\"C:/Users/tarun/Downloads/MissingPersonsGradleProject/MissingPersonsGradleProject/src/main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{useState}from\"react\";import{useNavigate}from\"react-router-dom\";import{TextField}from'@mui/material';import LoadingButton from'@mui/lab/LoadingButton';import{toast}from\"react-toastify\";import axios from\"axios\";import styles from\"../styles/verifymissingperson.module.css\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function VerifyMissingPerson(){const[verificationData,setVerificationData]=useState({name:'',age:'',location:'',image:null});const[potentialMatches,setPotentialMatches]=useState([]);const[isLoading,setIsLoading]=useState(false);const navigate=useNavigate();const handleVerification=async e=>{e.preventDefault();setIsLoading(true);const formData=new FormData();Object.keys(verificationData).forEach(key=>{if(verificationData[key]){formData.append(key,verificationData[key]);}});try{const response=await axios.post('/api/missing-persons/verify',formData);if(response.data.matches.length>0){setPotentialMatches(response.data.matches);toast.info(\"Found \".concat(response.data.totalFound,\" potential matches\"));}else{toast.info('No matches found. Proceeding to create new report.');navigate('/missing-persons/add',{state:{verifiedData:verificationData}});}}catch(error){var _error$response,_error$response$data;toast.error('Verification failed: '+((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message));}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:styles.verifyContainer,children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Verify Missing Person Report\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVerification,className:styles.verifyForm,children:[/*#__PURE__*/_jsx(TextField,{label:\"Name\",value:verificationData.name,onChange:e=>setVerificationData(_objectSpread(_objectSpread({},verificationData),{},{name:e.target.value})),required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Age\",type:\"number\",value:verificationData.age,onChange:e=>setVerificationData(_objectSpread(_objectSpread({},verificationData),{},{age:e.target.value})),required:true}),/*#__PURE__*/_jsx(TextField,{label:\"Location\",value:verificationData.location,onChange:e=>setVerificationData(_objectSpread(_objectSpread({},verificationData),{},{location:e.target.value})),required:true}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",onChange:e=>setVerificationData(_objectSpread(_objectSpread({},verificationData),{},{image:e.target.files[0]})),accept:\"image/*\"}),/*#__PURE__*/_jsx(LoadingButton,{loading:isLoading,type:\"submit\",variant:\"contained\",children:\"Verify\"})]}),potentialMatches.length>0&&/*#__PURE__*/_jsx(MatchGrid,{matches:potentialMatches,onViewDetails:id=>navigate(\"/missing-persons/\".concat(id))})]});}export default VerifyMissingPerson;","map":{"version":3,"names":["useState","useNavigate","TextField","LoadingButton","toast","axios","styles","jsx","_jsx","jsxs","_jsxs","VerifyMissingPerson","verificationData","setVerificationData","name","age","location","image","potentialMatches","setPotentialMatches","isLoading","setIsLoading","navigate","handleVerification","e","preventDefault","formData","FormData","Object","keys","forEach","key","append","response","post","data","matches","length","info","concat","totalFound","state","verifiedData","error","_error$response","_error$response$data","message","className","verifyContainer","children","onSubmit","verifyForm","label","value","onChange","_objectSpread","target","required","type","files","accept","loading","variant","MatchGrid","onViewDetails","id"],"sources":["C:/Users/tarun/Downloads/MissingPersonsGradleProject/MissingPersonsGradleProject/src/main/frontend/src/components/VerifyMissingPerson.js"],"sourcesContent":["import {useState} from \"react\";\r\nimport {useNavigate} from \"react-router-dom\";\r\nimport { TextField } from '@mui/material';\r\nimport LoadingButton from '@mui/lab/LoadingButton';\r\nimport {toast} from \"react-toastify\";\r\nimport axios from \"axios\";\r\nimport styles from \"../styles/verifymissingperson.module.css\";\r\nfunction VerifyMissingPerson() {\r\n    const [verificationData, setVerificationData] = useState({\r\n        name: '',\r\n        age: '',\r\n        location: '',\r\n        image: null\r\n    });\r\n    const [potentialMatches, setPotentialMatches] = useState([]);\r\n    const [isLoading, setIsLoading] = useState(false);\r\n    const navigate = useNavigate();\r\n\r\n    const handleVerification = async (e) => {\r\n        e.preventDefault();\r\n        setIsLoading(true);\r\n\r\n        const formData = new FormData();\r\n        Object.keys(verificationData).forEach(key => {\r\n            if (verificationData[key]) {\r\n                formData.append(key, verificationData[key]);\r\n            }\r\n        });\r\n\r\n        try {\r\n            const response = await axios.post('/api/missing-persons/verify', formData);\r\n\r\n            if (response.data.matches.length > 0) {\r\n                setPotentialMatches(response.data.matches);\r\n                toast.info(`Found ${response.data.totalFound} potential matches`);\r\n            } else {\r\n                toast.info('No matches found. Proceeding to create new report.');\r\n                navigate('/missing-persons/add', {\r\n                    state: { verifiedData: verificationData }\r\n                });\r\n            }\r\n        } catch (error) {\r\n            toast.error('Verification failed: ' + error.response?.data?.message);\r\n        } finally {\r\n            setIsLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className={styles.verifyContainer}>\r\n            <h2>Verify Missing Person Report</h2>\r\n            <form onSubmit={handleVerification} className={styles.verifyForm}>\r\n                <TextField\r\n                    label=\"Name\"\r\n                    value={verificationData.name}\r\n                    onChange={(e) => setVerificationData({\r\n                        ...verificationData,\r\n                        name: e.target.value\r\n                    })}\r\n                    required\r\n                />\r\n                <TextField\r\n                    label=\"Age\"\r\n                    type=\"number\"\r\n                    value={verificationData.age}\r\n                    onChange={(e) => setVerificationData({\r\n                        ...verificationData,\r\n                        age: e.target.value\r\n                    })}\r\n                    required\r\n                />\r\n                <TextField\r\n                    label=\"Location\"\r\n                    value={verificationData.location}\r\n                    onChange={(e) => setVerificationData({\r\n                        ...verificationData,\r\n                        location: e.target.value\r\n                    })}\r\n                    required\r\n                />\r\n                <input\r\n                    type=\"file\"\r\n                    onChange={(e) => setVerificationData({\r\n                        ...verificationData,\r\n                        image: e.target.files[0]\r\n                    })}\r\n                    accept=\"image/*\"\r\n                />\r\n\r\n                <LoadingButton\r\n                    loading={isLoading}\r\n                    type=\"submit\"\r\n                    variant=\"contained\"\r\n                >\r\n                    Verify\r\n                </LoadingButton>\r\n            </form>\r\n\r\n            {potentialMatches.length > 0 && (\r\n                <MatchGrid\r\n                    matches={potentialMatches}\r\n                    onViewDetails={(id) => navigate(`/missing-persons/${id}`)}\r\n                />\r\n            )}\r\n        </div>\r\n    );\r\n}\r\nexport default VerifyMissingPerson;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}