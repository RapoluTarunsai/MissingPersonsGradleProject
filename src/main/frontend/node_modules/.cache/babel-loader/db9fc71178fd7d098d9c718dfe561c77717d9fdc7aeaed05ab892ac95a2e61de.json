{"ast":null,"code":"import _objectSpread from\"C:/Users/tarun/Downloads/MissingPersonsGradleProject/MissingPersonsGradleProject/src/main/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{useNavigate}from'react-router-dom';import DatePicker from'react-datepicker';import\"react-datepicker/dist/react-datepicker.css\";import styles from\"../styles/addmissingperson.module.css\";import{format}from'date-fns';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function AddMissingPerson(){const initialLastSeen=new Date();const[missingPerson,setMissingPerson]=useState({name:'',image:null,lastSeen:initialLastSeen,description:''});const[error,setError]=useState('');const[isLoading,setIsLoading]=useState(false);const[imagePreview,setImagePreview]=useState(null);const navigate=useNavigate();const handleSubmit=async e=>{e.preventDefault();setIsLoading(true);setError('');const formData=new FormData();formData.append('name',missingPerson.name);formData.append('image',missingPerson.image);formData.append('lastSeen',format(missingPerson.lastSeen,\"yyyy-MM-dd'T'HH:mm:ss\"));formData.append('description',missingPerson.description);try{const response=await axios.post('/api/missing-persons/add',formData);console.log('Missing person added:',response.data);navigate('/missing-persons');}catch(error){console.error('Error adding missing person:',error);if(error.response&&error.response.data){setError(typeof error.response.data==='string'?error.response.data:error.response.data.error||'Failed to add missing person. Please try again.');}else{setError('Failed to add missing person. Please try again.');}}finally{setIsLoading(false);}};const handleImageChange=e=>{const file=e.target.files[0];if(file){setMissingPerson(_objectSpread(_objectSpread({},missingPerson),{},{image:file}));const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);};reader.readAsDataURL(file);}};return/*#__PURE__*/_jsx(\"div\",{className:styles.container,children:/*#__PURE__*/_jsxs(\"div\",{className:styles[\"add-missing-person\"],children:[/*#__PURE__*/_jsx(\"h2\",{children:\"Report a Missing Person\"}),error&&/*#__PURE__*/_jsx(\"div\",{className:styles[\"error-message\"],children:error}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-group\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"name\",children:\"Name:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"name\",placeholder:\"Enter the missing person's name\",value:missingPerson.name,onChange:e=>setMissingPerson(_objectSpread(_objectSpread({},missingPerson),{},{name:e.target.value})),required:true})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-group\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"image\",children:\"Photo:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"image\",accept:\"image/*\",onChange:handleImageChange,required:true}),imagePreview&&/*#__PURE__*/_jsx(\"div\",{className:styles[\"image-preview-container\"],children:/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Preview\",className:styles[\"image-preview\"],style:{width:'250px',height:'250px'}})})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-group\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"lastSeen\",children:\"Last Seen:\"}),/*#__PURE__*/_jsx(DatePicker,{id:\"lastSeen\",selected:missingPerson.lastSeen,onChange:date=>setMissingPerson(_objectSpread(_objectSpread({},missingPerson),{},{lastSeen:date})),showTimeSelect:true,timeFormat:\"HH:mm\",timeIntervals:15,timeCaption:\"time\",dateFormat:\"yyyy-MM-dd'T'HH:mm:ss\",className:styles[\"date-picker\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:styles[\"form-group\"],children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"description\",children:\"Description:\"}),/*#__PURE__*/_jsx(\"textarea\",{id:\"description\",value:missingPerson.description,onChange:e=>setMissingPerson(_objectSpread(_objectSpread({},missingPerson),{},{description:e.target.value})),rows:\"4\",placeholder:\"Enter any additional details that might help identify the person\"})]}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:styles.submit,disabled:isLoading,children:isLoading?'Submitting...':'Add Missing Person'})]})]})});}export default AddMissingPerson;","map":{"version":3,"names":["React","useState","axios","useNavigate","DatePicker","styles","format","jsx","_jsx","jsxs","_jsxs","AddMissingPerson","initialLastSeen","Date","missingPerson","setMissingPerson","name","image","lastSeen","description","error","setError","isLoading","setIsLoading","imagePreview","setImagePreview","navigate","handleSubmit","e","preventDefault","formData","FormData","append","response","post","console","log","data","handleImageChange","file","target","files","_objectSpread","reader","FileReader","onloadend","result","readAsDataURL","className","container","children","onSubmit","htmlFor","type","id","placeholder","value","onChange","required","accept","src","alt","style","width","height","selected","date","showTimeSelect","timeFormat","timeIntervals","timeCaption","dateFormat","rows","submit","disabled"],"sources":["C:/Users/tarun/Downloads/MissingPersonsGradleProject/MissingPersonsGradleProject/src/main/frontend/src/components/AddMissingPerson.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport { useNavigate } from 'react-router-dom';\nimport DatePicker from 'react-datepicker';\nimport \"react-datepicker/dist/react-datepicker.css\";\nimport styles from \"../styles/addmissingperson.module.css\";\nimport { format } from 'date-fns';\n\nfunction AddMissingPerson() {\n  const initialLastSeen = new Date();\n  const [missingPerson, setMissingPerson] = useState({ name: '', image: null, lastSeen: initialLastSeen, description: '' });\n  const [error, setError] = useState('');\n  const [isLoading, setIsLoading] = useState(false);\n  const [imagePreview, setImagePreview] = useState(null);\n  const navigate = useNavigate();\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setIsLoading(true);\n    setError('');\n\n    const formData = new FormData();\n    formData.append('name', missingPerson.name);\n    formData.append('image', missingPerson.image);\n    formData.append('lastSeen', format(missingPerson.lastSeen, \"yyyy-MM-dd'T'HH:mm:ss\"));\n    formData.append('description', missingPerson.description);\n\n    try {\n      const response = await axios.post('/api/missing-persons/add', formData);\n      console.log('Missing person added:', response.data);\n      navigate('/missing-persons');\n    } catch (error) {\n      console.error('Error adding missing person:', error);\n      if (error.response && error.response.data) {\n        setError(typeof error.response.data === 'string'\n            ? error.response.data\n            : error.response.data.error || 'Failed to add missing person. Please try again.');\n      } else {\n        setError('Failed to add missing person. Please try again.');\n      }\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setMissingPerson({ ...missingPerson, image: file });\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  return (\n      <div className={styles.container}>\n        <div className={styles[\"add-missing-person\"]}>\n          <h2>Report a Missing Person</h2>\n          {error && <div className={styles[\"error-message\"]}>{error}</div>}\n          <form onSubmit={handleSubmit}>\n            <div className={styles[\"form-group\"]}>\n              <label htmlFor=\"name\">Name:</label>\n              <input\n                  type=\"text\"\n                  id=\"name\"\n                  placeholder=\"Enter the missing person's name\"\n                  value={missingPerson.name}\n                  onChange={(e) => setMissingPerson({ ...missingPerson, name: e.target.value })}\n                  required\n              />\n            </div>\n            <div className={styles[\"form-group\"]}>\n              <label htmlFor=\"image\">Photo:</label>\n              <input\n                  type=\"file\"\n                  id=\"image\"\n                  accept=\"image/*\"\n                  onChange={handleImageChange}\n                  required\n              />\n              {imagePreview && (\n                  <div className={styles[\"image-preview-container\"]}>\n                    <img\n                        src={imagePreview}\n                        alt=\"Preview\"\n                        className={styles[\"image-preview\"]}\n                        style={{ width: '250px', height: '250px' }}\n                    />\n                  </div>\n              )}\n            </div>\n            <div className={styles[\"form-group\"]}>\n              <label htmlFor=\"lastSeen\">Last Seen:</label>\n              <DatePicker\n                  id=\"lastSeen\"\n                  selected={missingPerson.lastSeen}\n                  onChange={(date) => setMissingPerson({ ...missingPerson, lastSeen: date })}\n                  showTimeSelect\n                  timeFormat=\"HH:mm\"\n                  timeIntervals={15}\n                  timeCaption=\"time\"\n                  dateFormat=\"yyyy-MM-dd'T'HH:mm:ss\"\n                  className={styles[\"date-picker\"]}\n              />\n            </div>\n            <div className={styles[\"form-group\"]}>\n              <label htmlFor=\"description\">Description:</label>\n              <textarea\n                  id=\"description\"\n                  value={missingPerson.description}\n                  onChange={(e) => setMissingPerson({ ...missingPerson, description: e.target.value })}\n                  rows=\"4\"\n                  placeholder=\"Enter any additional details that might help identify the person\"\n              />\n            </div>\n            <button type=\"submit\" className={styles.submit} disabled={isLoading}>\n              {isLoading ? 'Submitting...' : 'Add Missing Person'}\n            </button>\n          </form>\n        </div>\n      </div>\n  );\n}\n\nexport default AddMissingPerson;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}